ç¬¬ä¸‰æ­¥ï¼šæœ¬åœ°åˆ›å»ºMVCæ–‡ä»¶å¤¹ç»“æ„
3.1 å…‹éš†ä»“åº“åˆ°æœ¬åœ°
bash
# å¤åˆ¶ä»“åº“URLï¼ˆåœ¨GitHubä»“åº“é¡µé¢ç‚¹å‡»ç»¿è‰²"Code"æŒ‰é’®ï¼‰
git clone https://github.com/ä½ çš„ç”¨æˆ·å/book-management-system.git
cd book-management-system
3.2 åˆ›å»ºå®Œæ•´çš„MVCæ–‡ä»¶å¤¹ç»“æ„
ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ›å»ºæ–‡ä»¶å¤¹ç»“æ„ï¼š

Windows (PowerShell):

powershell
# åˆ›å»ºä¸»ç›®å½•ç»“æ„
mkdir -Force app,public,vendor,storage,tests
mkdir -Force app/controllers,app/models,app/views,app/config,app/core,app/middleware
mkdir -Force app/views/layouts,app/views/books,app/views/authors,app/views/categories,app/views/borrow,app/views/dashboard
mkdir -Force public/css,public/js,public/images,public/uploads/book_covers
mkdir -Force storage/logs,storage/cache
mkdir -Force tests/Unit,tests/Feature

# åˆ›å»ºæ‰€æœ‰å¿…è¦çš„æ–‡ä»¶
@"
# å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ

åŸºäºMVCæ¶æ„çš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«å®Œæ•´çš„å›¾ä¹¦ç®¡ç†ã€å€Ÿé˜…ç®¡ç†åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§
- ğŸ“š å›¾ä¹¦ä¿¡æ¯ç®¡ç†
- ğŸ‘¥ ä½œè€…ç®¡ç†
- ğŸ“‚ åˆ†ç±»ç®¡ç†
- ğŸ” ç”¨æˆ·è®¤è¯
- ğŸ“– å›¾ä¹¦å€Ÿé˜…/å½’è¿˜
- ğŸ“Š æ•°æ®ç»Ÿè®¡

## æŠ€æœ¯æ ˆ
- PHP 7.4+
- MySQL 5.7+
- HTML5/CSS3/JavaScript
- Bootstrap 5

## å®‰è£…è¯´æ˜
1. å…‹éš†é¡¹ç›®
2. é…ç½®æ•°æ®åº“
3. å¯¼å…¥SQLæ–‡ä»¶
4. è®¿é—®ç½‘ç«™
"@ | Out-File -FilePath README.md -Encoding UTF8
Mac/Linux (Terminal):

bash
#!/bin/bash

# åˆ›å»ºä¸»ç›®å½•ç»“æ„
mkdir -p app/{controllers,models,views,config,core,middleware}
mkdir -p app/views/{layouts,books,authors,categories,borrow,dashboard}
mkdir -p public/{css,js,images,uploads/book_covers}
mkdir -p storage/{logs,cache}
mkdir -p tests/{Unit,Feature}

# åˆ›å»ºREADME.md
cat > README.md << 'EOF'
# å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ

åŸºäºMVCæ¶æ„çš„å›¾ä¹¦ç®¡ç†ç³»ç»Ÿï¼ŒåŒ…å«å®Œæ•´çš„å›¾ä¹¦ç®¡ç†ã€å€Ÿé˜…ç®¡ç†åŠŸèƒ½ã€‚

## åŠŸèƒ½ç‰¹æ€§
- ğŸ“š å›¾ä¹¦ä¿¡æ¯ç®¡ç†
- ğŸ‘¥ ä½œè€…ç®¡ç†
- ğŸ“‚ åˆ†ç±»ç®¡ç†
- ğŸ” ç”¨æˆ·è®¤è¯
- ğŸ“– å›¾ä¹¦å€Ÿé˜…/å½’è¿˜
- ğŸ“Š æ•°æ®ç»Ÿè®¡

## æŠ€æœ¯æ ˆ
- PHP 7.4+
- MySQL 5.7+
- HTML5/CSS3/JavaScript
- Bootstrap 5

## å®‰è£…è¯´æ˜
1. å…‹éš†é¡¹ç›®
2. é…ç½®æ•°æ®åº“
3. å¯¼å…¥SQLæ–‡ä»¶
4. è®¿é—®ç½‘ç«™
EOF
ç¬¬å››æ­¥ï¼šåˆ›å»ºæ ¸å¿ƒæ–‡ä»¶
4.1 åˆ›å»ºå…¥å£æ–‡ä»¶
bash
# åˆ›å»ºpublic/index.php
cat > public/index.php << 'EOF'
<?php
/**
 * å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ - å…¥å£æ–‡ä»¶
 */

// æ˜¾ç¤ºé”™è¯¯ä¿¡æ¯ï¼ˆå¼€å‘ç¯å¢ƒï¼‰
ini_set('display_errors', 1);
error_reporting(E_ALL);

// å®šä¹‰å¸¸é‡
define('ROOT_PATH', dirname(__DIR__));
define('APP_PATH', ROOT_PATH . '/app');
define('PUBLIC_PATH', __DIR__);

// è‡ªåŠ¨åŠ è½½ç±»
spl_autoload_register(function ($className) {
    $file = APP_PATH . '/' . str_replace('\\', '/', $className) . '.php';
    if (file_exists($file)) {
        require_once $file;
    }
});

// å¼•å…¥é…ç½®æ–‡ä»¶
require_once APP_PATH . '/config/config.php';

// ç®€å•çš„è·¯ç”±å¤„ç†
$request = $_SERVER['REQUEST_URI'];
$path = parse_url($request, PHP_URL_PATH);

// ç§»é™¤åŸºç¡€è·¯å¾„
$basePath = '/book-management-system';
if (strpos($path, $basePath) === 0) {
    $path = substr($path, strlen($basePath));
}

// è·¯ç”±åŒ¹é…
switch ($path) {
    case '/':
    case '':
        require APP_PATH . '/controllers/BookController.php';
        $controller = new BookController();
        $controller->index();
        break;
    case '/books':
        require APP_PATH . '/controllers/BookController.php';
        $controller = new BookController();
        $controller->index();
        break;
    case '/books/create':
        require APP_PATH . '/controllers/BookController.php';
        $controller = new BookController();
        $controller->create();
        break;
    default:
        http_response_code(404);
        echo "é¡µé¢æœªæ‰¾åˆ° - 404";
        break;
}
EOF
4.2 åˆ›å»ºé…ç½®æ–‡ä»¶
bash
# åˆ›å»ºapp/config/config.php
cat > app/config/config.php << 'EOF'
<?php
/**
 * åº”ç”¨é…ç½®æ–‡ä»¶
 */

return [
    'app' => [
        'name' => 'å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ',
        'version' => '1.0.0',
        'debug' => true
    ],
    'database' => [
        'host' => 'localhost',
        'dbname' => 'book_management',
        'username' => 'root',
        'password' => '',
        'charset' => 'utf8mb4'
    ],
    'paths' => [
        'uploads' => dirname(__DIR__) . '/../public/uploads/',
        'views' => dirname(__DIR__) . '/views/'
    ]
];
EOF
4.3 åˆ›å»ºåŸºç¡€æ§åˆ¶å™¨
bash
# åˆ›å»ºapp/controllers/BaseController.php
cat > app/controllers/BaseController.php << 'EOF'
<?php
/**
 * åŸºç¡€æ§åˆ¶å™¨ç±»
 */
class BaseController {
    
    /**
     * æ¸²æŸ“è§†å›¾
     */
    protected function render($view, $data = []) {
        // æå–æ•°æ®åˆ°å˜é‡ä¸­
        extract($data);
        
        // åŒ…å«å¤´éƒ¨
        $headerFile = APP_PATH . '/views/layouts/header.php';
        if (file_exists($headerFile)) {
            require_once $headerFile;
        }
        
        // åŒ…å«ä¸»ä½“è§†å›¾
        $viewFile = APP_PATH . "/views/{$view}.php";
        if (file_exists($viewFile)) {
            require_once $viewFile;
        } else {
            throw new Exception("è§†å›¾æ–‡ä»¶ä¸å­˜åœ¨: {$viewFile}");
        }
        
        // åŒ…å«åº•éƒ¨
        $footerFile = APP_PATH . '/views/layouts/footer.php';
        if (file_exists($footerFile)) {
            require_once $footerFile;
        }
    }
    
    /**
     * é‡å®šå‘
     */
    protected function redirect($url) {
        header("Location: {$url}");
        exit();
    }
    
    /**
     * è·å–POSTæ•°æ®
     */
    protected function getPost($key, $default = null) {
        return isset($_POST[$key]) ? trim($_POST[$key]) : $default;
    }
    
    /**
     * è¿”å›JSONå“åº”
     */
    protected function json($data) {
        header('Content-Type: application/json');
        echo json_encode($data, JSON_UNESCAPED_UNICODE);
        exit();
    }
    
    /**
     * éªŒè¯å¿…å¡«å­—æ®µ
     */
    protected function validateRequired($fields, $data) {
        $errors = [];
        foreach ($fields as $field) {
            if (empty($data[$field])) {
                $errors[] = "å­—æ®µ '{$field}' æ˜¯å¿…å¡«çš„";
            }
        }
        return $errors;
    }
}
EOF
4.4 åˆ›å»ºå›¾ä¹¦æ§åˆ¶å™¨
bash
# åˆ›å»ºapp/controllers/BookController.php
cat > app/controllers/BookController.php << 'EOF'
<?php
/**
 * å›¾ä¹¦æ§åˆ¶å™¨
 */
require_once 'BaseController.php';
require_once APP_PATH . '/models/Book.php';
require_once APP_PATH . '/models/Database.php';

class BookController extends BaseController {
    private $bookModel;
    
    public function __construct() {
        $this->bookModel = new Book();
    }
    
    /**
     * æ˜¾ç¤ºå›¾ä¹¦åˆ—è¡¨
     */
    public function index() {
        try {
            $books = $this->bookModel->getAllBooks();
            
            $this->render('books/index', [
                'title' => 'å›¾ä¹¦åˆ—è¡¨',
                'books' => $books,
                'totalCount' => count($books)
            ]);
        } catch (Exception $e) {
            $this->render('error', [
                'title' => 'é”™è¯¯',
                'message' => $e->getMessage()
            ]);
        }
    }
    
    /**
     * æ˜¾ç¤ºæ·»åŠ å›¾ä¹¦è¡¨å•
     */
    public function create() {
        $this->render('books/create', [
            'title' => 'æ·»åŠ å›¾ä¹¦',
            'action' => 'create'
        ]);
    }
    
    /**
     * å¤„ç†æ·»åŠ å›¾ä¹¦è¡¨å•æäº¤
     */
    public function store() {
        if ($_SERVER['REQUEST_METHOD'] !== 'POST') {
            $this->redirect('/books');
            return;
        }
        
        try {
            $bookData = [
                'title' => $this->getPost('title'),
                'author' => $this->getPost('author'),
                'isbn' => $this->getPost('isbn'),
                'publisher' => $this->getPost('publisher'),
                'publish_year' => $this->getPost('publish_year'),
                'category' => $this->getPost('category'),
                'price' => $this->getPost('price'),
                'description' => $this->getPost('description')
            ];
            
            // éªŒè¯å¿…å¡«å­—æ®µ
            $requiredFields = ['title', 'author', 'isbn'];
            $errors = $this->validateRequired($requiredFields, $bookData);
            
            if (!empty($errors)) {
                $this->render('books/create', [
                    'title' => 'æ·»åŠ å›¾ä¹¦',
                    'errors' => $errors,
                    'book' => $bookData
                ]);
                return;
            }
            
            // ä¿å­˜å›¾ä¹¦
            if ($this->bookModel->createBook($bookData)) {
                $this->redirect('/books?success=1');
            } else {
                throw new Exception('æ·»åŠ å›¾ä¹¦å¤±è´¥');
            }
            
        } catch (Exception $e) {
            $this->render('books/create', [
                'title' => 'æ·»åŠ å›¾ä¹¦',
                'errors' => [$e->getMessage()],
                'book' => $bookData
            ]);
        }
    }
}
EOF
4.5 åˆ›å»ºæ•°æ®åº“æ¨¡å‹
bash
# åˆ›å»ºapp/models/Database.php
cat > app/models/Database.php << 'EOF'
<?php
/**
 * æ•°æ®åº“è¿æ¥ç±»
 */
class Database {
    private $connection;
    private static $instance = null;
    
    private function __construct() {
        $config = require APP_PATH . '/config/config.php';
        $dbConfig = $config['database'];
        
        try {
            $dsn = "mysql:host={$dbConfig['host']};dbname={$dbConfig['dbname']};charset={$dbConfig['charset']}";
            $this->connection = new PDO($dsn, $dbConfig['username'], $dbConfig['password']);
            $this->connection->setAttribute(PDO::ATTR_ERRMODE, PDO::ERRMODE_EXCEPTION);
            $this->connection->setAttribute(PDO::ATTR_DEFAULT_FETCH_MODE, PDO::FETCH_ASSOC);
        } catch (PDOException $e) {
            die("æ•°æ®åº“è¿æ¥å¤±è´¥: " . $e->getMessage());
        }
    }
    
    /**
     * è·å–å•ä¾‹å®ä¾‹
     */
    public static function getInstance() {
        if (self::$instance === null) {
            self::$instance = new self();
        }
        return self::$instance;
    }
    
    /**
     * è·å–æ•°æ®åº“è¿æ¥
     */
    public function getConnection() {
        return $this->connection;
    }
    
    /**
     * æ‰§è¡ŒæŸ¥è¯¢
     */
    public function query($sql, $params = []) {
        $stmt = $this->connection->prepare($sql);
        $stmt->execute($params);
        return $stmt;
    }
    
    /**
     * è·å–æ‰€æœ‰è®°å½•
     */
    public function fetchAll($sql, $params = []) {
        $stmt = $this->query($sql, $params);
        return $stmt->fetchAll();
    }
    
    /**
     * è·å–å•æ¡è®°å½•
     */
    public function fetchOne($sql, $params = []) {
        $stmt = $this->query($sql, $params);
        return $stmt->fetch();
    }
}
EOF
4.6 åˆ›å»ºå›¾ä¹¦æ¨¡å‹
4.6 åˆ›å»ºå›¾ä¹¦æ¨¡å‹
bash
# åˆ›å»ºapp/models/Book.php
cat > app/models/Book.php << 'EOF'
<?php
/**
 * å›¾ä¹¦æ¨¡å‹
 */
require_once 'Database.php';

class Book {
    private $db;
    private $table = 'books';
    
    public function __construct() {
        $this->db = Database::getInstance();
    }
    
    /**
     * è·å–æ‰€æœ‰å›¾ä¹¦
     */
    public function getAllBooks() {
        // æ¨¡æ‹Ÿæ•°æ® - åœ¨å®é™…é¡¹ç›®ä¸­è¿™é‡Œä¼šæŸ¥è¯¢æ•°æ®åº“
        return [
            [
                'id' => 1,
                'title' => 'PHPç¼–ç¨‹åŸºç¡€',
                'author' => 'å¼ ä¸‰',
                'isbn' => '9787111234567',
                'publisher' => 'äººæ°‘é‚®ç”µå‡ºç‰ˆç¤¾',
                'publish_year' => 2023,
                'category' => 'ç¼–ç¨‹',
                'price' => 59.80,
                'status' => 'åœ¨åº“'
            ],
            [
                'id' => 2,
                'title' => 'MySQLæ•°æ®åº“ç®¡ç†',
                'author' => 'æå››',
                'isbn' => '9787111234568',
                'publisher' => 'æ¸…åå¤§å­¦å‡ºç‰ˆç¤¾',
                'publish_year' => 2022,
                'category' => 'æ•°æ®åº“',
                'price' => 69.90,
                'status' => 'å€Ÿå‡º'
            ],
            [
                'id' => 3,
                'title' => 'Webå‰ç«¯å¼€å‘',
                'author' => 'ç‹äº”',
                'isbn' => '9787111234569',
                'publisher' => 'ç”µå­å·¥ä¸šå‡ºç‰ˆç¤¾',
                'publish_year' => 2023,
                'category' => 'å‰ç«¯',
                'price' => 79.00,
                'status' => 'åœ¨åº“'
            ]
        ];
    }
    
    /**
     * æ ¹æ®IDè·å–å›¾ä¹¦
     */
    public function getBookById($id) {
        $books = $this->getAllBooks();
        foreach ($books as $book) {
            if ($book['id'] == $id) {
                return $book;
            }
        }
        return null;
    }
    
    /**
     * åˆ›å»ºå›¾ä¹¦
     */
    public function createBook($data) {
        // åœ¨å®é™…é¡¹ç›®ä¸­è¿™é‡Œä¼šæ’å…¥æ•°æ®åº“
        // è¿™é‡Œè¿”å›trueæ¨¡æ‹ŸæˆåŠŸ
        return true;
    }
    
    /**
     * æ›´æ–°å›¾ä¹¦
     */
    public function updateBook($id, $data) {
        // åœ¨å®é™…é¡¹ç›®ä¸­è¿™é‡Œä¼šæ›´æ–°æ•°æ®åº“
        return true;
    }
    
    /**
     * åˆ é™¤å›¾ä¹¦
     */
    public function deleteBook($id) {
        // åœ¨å®é™…é¡¹ç›®ä¸­è¿™é‡Œä¼šåˆ é™¤æ•°æ®åº“è®°å½•
        return true;
    }
    
    /**
     * æœç´¢å›¾ä¹¦
     */
    public function searchBooks($keyword) {
        $books = $this->getAllBooks();
        $result = [];
        
        foreach ($books as $book) {
            if (stripos($book['title'], $keyword) !== false || 
                stripos($book['author'], $keyword) !== false) {
                $result[] = $book;
            }
        }
        
        return $result;
    }
}
EOF
4.7 åˆ›å»ºè§†å›¾æ–‡ä»¶
åˆ›å»ºå¸ƒå±€å¤´éƒ¨
bash
# åˆ›å»ºapp/views/layouts/header.php
cat > app/views/layouts/header.php << 'EOF'
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title><?php echo isset($title) ? $title . ' - ' : ''; ?>å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        .sidebar {
            min-height: calc(100vh - 56px);
            background-color: #f8f9fa;
        }
        .main-content {
            min-height: calc(100vh - 56px);
        }
        .book-card {
            transition: transform 0.2s;
        }
        .book-card:hover {
            transform: translateY(-5px);
        }
    </style>
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="/">
                <i class="fas fa-book"></i> å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ
            </a>
            <div class="navbar-nav ms-auto">
                <a class="nav-link" href="/books">å›¾ä¹¦ç®¡ç†</a>
                <a class="nav-link" href="/borrow">å€Ÿé˜…ç®¡ç†</a>
                <a class="nav-link" href="/authors">ä½œè€…ç®¡ç†</a>
            </div>
        </div>
    </nav>

    <div class="container-fluid">
        <div class="row">
            <!-- ä¾§è¾¹æ  -->
            <div class="col-md-3 col-lg-2 sidebar d-md-block collapse">
                <div class="position-sticky pt-3">
                    <ul class="nav flex-column">
                        <li class="nav-item">
                            <a class="nav-link active" href="/books">
                                <i class="fas fa-book me-2"></i> å›¾ä¹¦åˆ—è¡¨
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/books/create">
                                <i class="fas fa-plus me-2"></i> æ·»åŠ å›¾ä¹¦
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/borrow">
                                <i class="fas fa-exchange-alt me-2"></i> å€Ÿé˜…ç®¡ç†
                            </a>
                        </li>
                        <li class="nav-item">
                            <a class="nav-link" href="/categories">
                                <i class="fas fa-tags me-2"></i> åˆ†ç±»ç®¡ç†
                            </a>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- ä¸»å†…å®¹åŒº -->
            <main class="col-md-9 ms-sm-auto col-lg-10 main-content px-md-4">
EOF
åˆ›å»ºå¸ƒå±€åº•éƒ¨
bash
# åˆ›å»ºapp/views/layouts/footer.php
cat > app/views/layouts/footer.php << 'EOF'
            </main>
        </div>
    </div>

    <footer class="bg-dark text-white mt-5 py-3">
        <div class="container text-center">
            <p>&copy; 2024 å›¾ä¹¦ç®¡ç†ç³»ç»Ÿ. åŸºäºMVCæ¶æ„å¼€å‘.</p>
        </div>
    </footer>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script>
        // ç®€å•çš„ç¡®è®¤å¯¹è¯æ¡†
        function confirmDelete(message = 'ç¡®å®šè¦åˆ é™¤å—ï¼Ÿ') {
            return confirm(message);
        }
        
        // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
        <?php if (isset($_GET['success'])): ?>
            setTimeout(() => {
                const alert = document.createElement('div');
                alert.className = 'alert alert-success alert-dismissible fade show';
                alert.innerHTML = `
                    <strong>æˆåŠŸ!</strong> æ“ä½œå·²å®Œæˆã€‚
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                `;
                document.querySelector('main').prepend(alert);
            }, 100);
        <?php endif; ?>
    </script>
</body>
</html>
EOF
åˆ›å»ºå›¾ä¹¦åˆ—è¡¨è§†å›¾
bash
# åˆ›å»ºapp/views/books/index.php
cat > app/views/books/index.php << 'EOF'
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2"><?php echo $title; ?></h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        <a href="/books/create" class="btn btn-primary">
            <i class="fas fa-plus me-1"></i> æ·»åŠ å›¾ä¹¦
        </a>
    </div>
</div>

<!-- æœç´¢æ¡† -->
<div class="row mb-4">
    <div class="col-md-6">
        <form method="GET" action="/books">
            <div class="input-group">
                <input type="text" class="form-control" placeholder="æœç´¢å›¾ä¹¦åç§°æˆ–ä½œè€…..." name="search">
                <button class="btn btn-outline-secondary" type="submit">
                    <i class="fas fa-search"></i>
                </button>
            </div>
        </form>
    </div>
</div>

<!-- ç»Ÿè®¡ä¿¡æ¯ -->
<div class="row mb-4">
    <div class="col-md-3">
        <div class="card text-white bg-primary">
            <div class="card-body">
                <h5 class="card-title">æ€»å›¾ä¹¦æ•°</h5>
                <p class="card-text display-6"><?php echo $totalCount; ?></p>
            </div>
        </div>
    </div>
    <div class="col-md-3">
        <div class="card text-white bg-success">
            <div class="card-body">
                <h5 class="card-title">åœ¨åº“å›¾ä¹¦</h5>
                <p class="card-text display-6"><?php echo count(array_filter($books, fn($book) => $book['status'] === 'åœ¨åº“')); ?></p>
            </div>
        </div>
    </div>
</div>

<!-- å›¾ä¹¦è¡¨æ ¼ -->
<div class="card">
    <div class="card-body">
        <?php if (!empty($books)): ?>
            <div class="table-responsive">
                <table class="table table-striped table-hover">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>ä¹¦å</th>
                            <th>ä½œè€…</th>
                            <th>ISBN</th>
                            <th>å‡ºç‰ˆç¤¾</th>
                            <th>åˆ†ç±»</th>
                            <th>ä»·æ ¼</th>
                            <th>çŠ¶æ€</th>
                            <th>æ“ä½œ</th>
                        </tr>
                    </thead>
                    <tbody>
                        <?php foreach ($books as $book): ?>
                        <tr>
                            <td><?php echo $book['id']; ?></td>
                            <td>
                                <strong><?php echo htmlspecialchars($book['title']); ?></strong>
                            </td>
                            <td><?php echo htmlspecialchars($book['author']); ?></td>
                            <td><?php echo $book['isbn']; ?></td>
                            <td><?php echo htmlspecialchars($book['publisher']); ?></td>
                            <td>
                                <span class="badge bg-secondary"><?php echo $book['category']; ?></span>
                            </td>
                            <td>Â¥<?php echo number_format($book['price'], 2); ?></td>
                            <td>
                                <span class="badge bg-<?php echo $book['status'] === 'åœ¨åº“' ? 'success' : 'warning'; ?>">
                                    <?php echo $book['status']; ?>
                                </span>
                            </td>
                            <td>
                                <div class="btn-group btn-group-sm">
                                    <a href="/books/<?php echo $book['id']; ?>" class="btn btn-outline-primary">
                                        <i class="fas fa-eye"></i>
                                    </a>
                                    <a href="/books/<?php echo $book['id']; ?>/edit" class="btn btn-outline-secondary">
                                        <i class="fas fa-edit"></i>
                                    </a>
                                    <button type="button" class="btn btn-outline-danger" 
                                            onclick="if(confirmDelete()) window.location.href='/books/<?php echo $book['id']; ?>/delete'">
                                        <i class="fas fa-trash"></i>
                                    </button>
                                </div>
                            </td>
                        </tr>
                        <?php endforeach; ?>
                    </tbody>
                </table>
            </div>
        <?php else: ?>
            <div class="text-center py-5">
                <i class="fas fa-book fa-3x text-muted mb-3"></i>
                <h4 class="text-muted">æš‚æ— å›¾ä¹¦æ•°æ®</h4>
                <p class="text-muted">ç‚¹å‡»ä¸Šæ–¹æŒ‰é’®æ·»åŠ ç¬¬ä¸€æœ¬å›¾ä¹¦</p>
            </div>
        <?php endif; ?>
    </div>
</div>
EOF
åˆ›å»ºæ·»åŠ å›¾ä¹¦è§†å›¾
bash
# åˆ›å»ºapp/views/books/create.php
cat > app/views/books/create.php << 'EOF'
<div class="d-flex justify-content-between flex-wrap flex-md-nowrap align-items-center pt-3 pb-2 mb-3 border-bottom">
    <h1 class="h2"><?php echo $title; ?></h1>
    <div class="btn-toolbar mb-2 mb-md-0">
        <a href="/books" class="btn btn-secondary">
            <i class="fas fa-arrow-left me-1"></i> è¿”å›åˆ—è¡¨
        </a>
    </div>
</div>

<div class="row justify-content-center">
    <div class="col-md-8">
        <div class="card">
            <div class="card-body">
                <?php if (!empty($errors)): ?>
                    <div class="alert alert-danger">
                        <ul class="mb-0">
                            <?php foreach ($errors as $error): ?>
                                <li><?php echo $error; ?></li>
                            <?php endforeach; ?>
                        </ul>
                    </div>
                <?php endif; ?>

                <form method="POST" action="/books/create">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="title" class="form-label">ä¹¦å <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="title" name="title" 
                                       value="<?php echo isset($book['title']) ? htmlspecialchars($book['title']) : ''; ?>" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="author" class="form-label">ä½œè€… <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="author" name="author" 
                                       value="<?php echo isset($book['author']) ? htmlspecialchars($book['author']) : ''; ?>" required>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="isbn" class="form-label">ISBN <span class="text-danger">*</span></label>
                                <input type="text" class="form-control" id="isbn" name="isbn" 
                                       value="<?php echo isset($book['isbn']) ? htmlspecialchars($book['isbn']) : ''; ?>" required>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="mb-3">
                                <label for="publisher" class="form-label">å‡ºç‰ˆç¤¾</label>
                                <input type="text" class="form-control" id="publisher" name="publisher" 
                                       value="<?php echo isset($book['publisher']) ? htmlspecialchars($book['publisher']) : ''; ?>">
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="publish_year" class="form-label">å‡ºç‰ˆå¹´ä»½</label>
                                <input type="number" class="form-control" id="publish_year" name="publish_year" 
                                       value="<?php echo isset($book['publish_year']) ? $book['publish_year'] : date('Y'); ?>" 
                                       min="1900" max="<?php echo date('Y'); ?>">
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="category" class="form-label">åˆ†ç±»</label>
                                <select class="form-select" id="category" name="category">
                                    <option value="">é€‰æ‹©åˆ†ç±»</option>
                                    <option value="ç¼–ç¨‹" <?php echo (isset($book['category']) && $book['category'] === 'ç¼–ç¨‹') ? 'selected' : ''; ?>>ç¼–ç¨‹</option>
                                    <option value="æ•°æ®åº“" <?php echo (isset($book['category']) && $book['category'] === 'æ•°æ®åº“') ? 'selected' : ''; ?>>æ•°æ®åº“</option>
                                    <option value="å‰ç«¯" <?php echo (isset($book['category']) && $book['category'] === 'å‰ç«¯') ? 'selected' : ''; ?>>å‰ç«¯</option>
                                    <option value="è®¾è®¡" <?php echo (isset($book['category']) && $book['category'] === 'è®¾è®¡') ? 'selected' : ''; ?>>è®¾è®¡</option>
                                </select>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="mb-3">
                                <label for="price" class="form-label">ä»·æ ¼ (Â¥)</label>
                                <input type="number" step="0.01" class="form-control" id="price" name="price" 
                                       value="<?php echo isset($book['price']) ? $book['price'] : ''; ?>">
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="description" class="form-label">å›¾ä¹¦æè¿°</label>
                        <textarea class="form-control" id="description" name="description" rows="4"><?php echo isset($book['description']) ? htmlspecialchars($book['description']) : ''; ?></textarea>
                    </div>

                    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                        <button type="reset" class="btn btn-secondary">é‡ç½®</button>
                        <button type="submit" class="btn btn-primary">æ·»åŠ å›¾ä¹¦</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
EOF
4.8 åˆ›å»ºCSSå’ŒJSæ–‡ä»¶
bash
# åˆ›å»ºpublic/css/style.css
cat > public/css/style.css << 'EOF'
/* è‡ªå®šä¹‰æ ·å¼ */
:root {
    --primary-color: #3498db;
    --secondary-color: #2c3e50;
    --success-color: #27ae60;
    --warning-color: #f39c12;
    --danger-color: #e74c3c;
}

body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background-color: #f8f9fa;
}

.sidebar {
    background: linear-gradient(180deg, var(--secondary-color), #1a252f);
}

.navbar-brand {
    font-weight: 600;
}

.book-card {
    border: none;
    border-radius: 10px;
    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    transition: all 0.3s ease;
}

.book-card:hover {
    box-shadow: 0 8px 15px rgba(0, 0, 0, 0.2);
}

.stat-card {
    border-radius: 10px;
    border: none;
}

.btn-primary {
    background: linear-gradient(45deg, var(--primary-color), #2980b9);
    border: none;
}

.btn-primary:hover {
    background: linear-gradient(45deg, #2980b9, var(--primary-color));
}

.table th {
    border-top: none;
    font-weight: 600;
    color: var(--secondary-color);
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
    .sidebar {
        position: fixed;
        top: 56px;
        left: -100%;
        width: 100%;
        height: calc(100vh - 56px);
        transition: left 0.3s ease;
        z-index: 1000;
    }
    
    .sidebar.show {
        left: 0;
    }
}
EOF
ç¬¬äº”æ­¥ï¼šæäº¤åˆ°GitHub
5.1 æ·»åŠ æ–‡ä»¶åˆ°Git
bash
# æ·»åŠ æ‰€æœ‰æ–‡ä»¶åˆ°æš‚å­˜åŒº
git add .

# æŸ¥çœ‹æ–‡ä»¶çŠ¶æ€
git status

# æäº¤æ›´æ”¹
git commit -m "åˆå§‹åŒ–é¡¹ç›®ï¼šåˆ›å»ºå®Œæ•´çš„MVCæ¶æ„æ–‡ä»¶å¤¹ç»“æ„

- åˆ›å»ºapp/ç›®å½•ç»“æ„ï¼ˆcontrollers, models, views, config, core, middlewareï¼‰
- åˆ›å»ºpublic/å…¥å£æ–‡ä»¶å’Œé™æ€èµ„æº
- å®ç°åŸºç¡€æ§åˆ¶å™¨å’Œæ¨¡å‹
- åˆ›å»ºå›¾ä¹¦ç®¡ç†ç›¸å…³è§†å›¾
- æ·»åŠ Bootstrapå’ŒFont Awesomeä¾èµ–
- åˆ›å»ºREADMEæ–‡æ¡£"

# æ¨é€åˆ°GitHub
git push origin main
5.2 åˆ›å»º.gitignoreæ–‡ä»¶ï¼ˆå¯é€‰ï¼‰
bash
# åˆ›å»º.gitignoreæ–‡ä»¶
cat > .gitignore << 'EOF'
# ä¾èµ–ç›®å½•
/vendor/

# ç¯å¢ƒé…ç½®æ–‡ä»¶
.env
.env.local
.env.production

# æ—¥å¿—æ–‡ä»¶
/storage/logs/*.log

# ç¼“å­˜æ–‡ä»¶
/storage/cache/*

# ä¸Šä¼ æ–‡ä»¶
/public/uploads/*

# ç³»ç»Ÿæ–‡ä»¶
.DS_Store
Thumbs.db

# IDEæ–‡ä»¶
.vscode/
.idea/
*.swp
*.swo

# ä¸´æ—¶æ–‡ä»¶
*.tmp
*.temp
EOF

# æ·»åŠ .gitignoreå¹¶æäº¤
git add .gitignore
git commit -m "æ·»åŠ .gitignoreæ–‡ä»¶"
git push origin main
ç¬¬å…­æ­¥ï¼šéªŒè¯é¡¹ç›®ç»“æ„
6.1 æ£€æŸ¥æœ€ç»ˆæ–‡ä»¶å¤¹ç»“æ„
åœ¨ç»ˆç«¯ä¸­è¿è¡Œï¼š

bash
# æ˜¾ç¤ºå®Œæ•´çš„æ–‡ä»¶å¤¹ç»“æ„
find . -type f -not -path "./.git/*" | sort
